<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="{{ url_for('static', filename='styles.css') }}" rel="stylesheet">
</head>
<body>
  <!-- First Row -->
  <div class="row" style="margin-top: 25px; margin-left: 30px; margin-right: 30px">
    <!-- Recent Entry -->
    <div class="col-md-5">
      <div class="card shadow-md border border-light-subtle border-2" style="height: 257px;">
        <div>
          <div class="card-body" style="width: 400px; margin-left: 25px; margin-top: 20px;">
            <h3 style="text-align: center;">Recent Entry</h3>
            <p class="text-secondary" style="font-size: 18px; text-align: center">
                <strong>Date:</strong> {{ recent_entry.entry_date }} <br>
                <strong>Entry:</strong> {{ recent_entry.journal_entry }}
            </p>
          </div>
        </div>
      </div>
    </div>
    <!-- Mood Selection to Form -->
    <div class="col-md-7">
      <div class="card shadow-md border border-light-subtle border-2" style="max-width: 860px; height: 257px;">
        <div>
          <div class="card-body" style="width: 400px; margin-top: 20px; margin-left: 140px;">
            <h3>How are you feeling today?</h3>
          </div>
          <div class="mood-container" style='margin-top: 5px;'>
            <div class="mood-item" value="6" onclick="redirectToPage()">
              <img src="{{ url_for('static', filename='excellent-mood-icon.png') }}"  
                   class="img-fluid mood-icon excellent" alt="Excellent Mood">
              <p class="mood-label excellent-text">Excellent</p>
            </div>
            <div class="mood-item" value="4" onclick="redirectToPage()">
              <img src="{{ url_for('static', filename='good-mood-icon.png') }}"  
                   class="img-fluid mood-icon good" alt="Good Mood">
              <p class="mood-label good-text">Good</p>
            </div>
            <div class="mood-item" value="3" onclick="redirectToPage()">
              <img src="{{ url_for('static', filename='okay-mood-icon.png') }}"  
                   class="img-fluid mood-icon okay" alt="Okay Mood">
              <p class="mood-label okay-text">Okay</p>
            </div>
            <div class="mood-item" value="2" onclick="redirectToPage()">
              <img src="{{ url_for('static', filename='bad-mood-icon.png') }}"  
                   class="img-fluid mood-icon bad" alt="Bad Mood">
              <p class="mood-label bad-text">Bad</p>
            </div>
            <div class="mood-item" value="1" onclick="redirectToPage()">
              <img src="{{ url_for('static', filename='very-bad-mood-icon.png') }}"  
                   class="img-fluid mood-icon very-bad" alt="Very Bad Mood">
              <p class="mood-label very-bad-text">Very Bad</p>
            </div>
          </div>
        
          <!-- Hidden input field to store the selected value -->
          <input type="hidden" id="selected-mood" name="mood_value">
        </div>
      </div>
    </div>
  </div>

   <!-- 2nd Row: AI Summary -->
   <div class="card shadow-md border border-light-subtle border-2" 
   style="max-width: 1800px; height: 257px; margin-top: 20px; margin-left: 40px; margin-right: 40px">
   <div>
     <div class="card-body">
       <h3 style="text-align: center;">Journal Entries Summary<a href=" {{ url_for('display_summary', summary=summary) }}"><img src=" {{ url_for('static', filename='right-arrow.png') }} " style="height: 30px; padding-left: 10px;"></a></h3>
       <p class="text-secondary" style="text-align: center; font-size: 18px; padding-top: 5px;">{{ summary }}</p> 
     </div>
   </div>
  </div>

  <!-- 3rd Row: Mood (7 days) -->
  <div class="card shadow-md border border-light-subtle border-2" 
   style="max-width: 1800px; height: 257px; margin-top: 20px; margin-left: 40px; margin-right: 40px">
   <div>
     <div class="card-body">
       <h3 style="text-align: center;">Mood for the last 7 days</h3>
       <img src=" {{url_for('static', filename='mood-week.png') }} " style="height: 180px; margin-left: 100px;">
     </div>
   </div>
  </div>
</body>

<script>
  function redirectToPage() {
      window.location.href = "{{ url_for('form_page') }}"
    }
  
  function redirectToSummaryPage() {
    window.location.href = "{{ url_for('display_summary') }}" 
  }
  </script>
</html>